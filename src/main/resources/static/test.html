<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Test af tour</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body class="container">
<h1 style="text-align: center; font-size: 32px">Tours</h1>

<button class="btn-success"><a style="color: black" href="tourTestAdd.html">Add</a></button>
<button class="btn-danger"><a style="color: black" href="tourTestDelete.html">Delete</a></button>

<table class="table">
    <thead>
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Description</th>
        <th>mxaMembers</th>
        <th>Duration</th>

    </tr>
    </thead>
    <tbody id="tbody"></tbody>

</table>




<br/>

<h1 style="text-align: center; font-size: 32px">Attractions</h1>

<table class="table">
    <thead>
    <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Description</th>
        <th>Interestpoints</th>
        <th>Latitude</th>
        <th>Longtitude</th>
        <th>TimeToboat</th>

    </tr>
    </thead>
    <tbody id="tbody1"></tbody>

    </br>

    <button class="btn-success"><a style="color: black" href="attractionTestAdd.html">Add attraction</a></button>
    <button class="btn-danger"><a style="color: black" href="attractionTestDelete.html">Delete attraction</a></button>

</table>

</body>

<script>
    sessionStorage.setItem("SERVER_URL","api/tours");
    const SERVER_URL = sessionStorage.getItem("SERVER_URL");

    fetch(SERVER_URL)
        .then(function(response) {
            return response.json();
        })
        .then(function(data) {
            tour = data;
            console.log(tour)
            makeRows()
        });

    // Metode der laver rækkerne i tabellen.
    function makeRows() {
        const rows = tour.map(t => `
         <tr>
           <td>${t.id}</td>
           <td>${t.name}</td>
           <td>${t.description}</td>
           <td>${t.maxMembers}</td>
           <td>${t.duration}</td>
         </tr>
        `)
        document.getElementById("tbody").innerHTML = rows.join("")
    }


    fetch("api/attractions")
        .then(function(response) {
            return response.json();
        })
        .then(function(data) {
            attractions = data;
            console.log(attractions)
            makeAttractionRows()
        });

    // Metode der laver rækkerne i tabellen.
    function makeAttractionRows() {
        const rows = attractions.map(a => `
         <tr>
           <td>${a.id}</td>
           <td>${a.name}</td>
           <td>${a.description}</td>
           <td>${a.interestPoints}</td>
           <td>${a.latitude}</td>
           <td>${a.longtitude}</td>
           <td>${a.timeToBoat}</td>
         </tr>
        `)
        document.getElementById("tbody1").innerHTML = rows.join("")
    }

</script>
</html>